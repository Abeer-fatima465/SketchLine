<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Gallery Dashboard</title>
    <link rel="stylesheet" href="dashboard.css">
</head>
<body>
    <!-- Background image slider -->
    <div class="image-container">
        <div class="image-slide" style="background-image: url('https://source.unsplash.com/random/1920x1080?nature')"></div>
        <div class="image-slide" style="background-image: url('https://source.unsplash.com/random/1920x1080?city')"></div>
        <div class="image-slide" style="background-image: url('https://source.unsplash.com/random/1920x1080?architecture')"></div>
        <div class="image-slide" style="background-image: url('https://source.unsplash.com/random/1920x1080?travel')"></div>
    </div>

    <!-- Dashboard body -->
    <div class="dashboard profile-dashboard">
        <main class="main profile-main">
            <!-- JS injects profile card here -->
            <div id="profile-root"></div>

            <!-- JS injects albums + add button here -->
            <section id="albums-root"></section>
        </main>
    </div>

    <script>
        /************* BACKGROUND SLIDER (same vibe as login) *************/
        document.addEventListener('DOMContentLoaded', () => {
            let currentSlide = 0;
            const slides = document.querySelectorAll('.image-slide');
            const totalSlides = slides.length;

            function showSlide(index) {
                slides.forEach(slide => {
                    slide.style.opacity = '0';
                    slide.style.transform = 'scale(1)';
                });

                if (slides[index]) {
                    slides[index].style.opacity = '0.4';
                    slides[index].style.transform = 'scale(1.02)';
                }
            }

            function nextSlide() {
                currentSlide = (currentSlide + 1) % totalSlides;
                showSlide(currentSlide);
            }

            if (totalSlides > 0) {
                showSlide(currentSlide);
                setInterval(nextSlide, 5000);
            }

            /************* DYNAMIC PROFILE + ALBUMS *************/
            const profileData = {
                initials: 'JD',
                name: 'Jane Doe',
                phone: '555-123-4567',
                email: 'janedoe@janedoe.com'
            };

            let albums = [
                { id: 1, title: 'Album 1', subtitle: 'Generic album' },
                { id: 2, title: 'Album 2', subtitle: 'Generic album' },
                { id: 3, title: 'Album 3', subtitle: 'Generic album' }
            ];

            const profileRoot = document.getElementById('profile-root');
            const albumsRoot = document.getElementById('albums-root');

            function renderProfile() {
                profileRoot.innerHTML = `
                    <div class="profile-card glass-container">
                        <div class="profile-avatar">
                            ${profileData.initials}
                        </div>
                        <h1 class="profile-name">${profileData.name}</h1>
                        <p class="profile-contact">
                            ${profileData.phone} | ${profileData.email}
                        </p>
                    </div>
                `;
            }

            function renderAlbums() {
                const albumsHTML = albums.map(album => `
                    <div class="album-card glass-container">
                        <div class="album-title">${album.title}</div>
                        <div class="album-subtitle">${album.subtitle}</div>
                    </div>
                `).join('');

                albumsRoot.innerHTML = `
                    <section class="albums-section">
                        <div class="albums-inner glass-container">
                            <button class="add-album-btn" type="button" aria-label="Add album">
                                +
                            </button>
                            <div class="albums-row">
                                ${albumsHTML}
                            </div>
                        </div>
                    </section>
                `;

                const addBtn = albumsRoot.querySelector('.add-album-btn');
                addBtn.addEventListener('click', handleAddAlbum);
            }

            function handleAddAlbum() {
                const nextId = albums.length ? albums[albums.length - 1].id + 1 : 1;
                const newNumber = albums.length + 1;

                albums.push({
                    id: nextId,
                    title: `Album ${newNumber}`,
                    subtitle: 'Generic album'
                });

                renderAlbums();
            }

            // Initial render
            renderProfile();
            renderAlbums();
        });
    </script>
</body>
</html>
